## Relatório de Teste de Penetração
## 1. Sumário Executivo
Objetivo do Teste: Avaliar a segurança da VPS e identificar vulnerabilidades.

Escopo:

Rede
Sistema Operacional
Aplicações Web
Bancos de Dados
Principais Descobertas:

Vulnerabilidade X: Descrição breve da vulnerabilidade.
Vulnerabilidade Y: Descrição breve da vulnerabilidade.
Recomendações Gerais:

Implementar patch X para corrigir a vulnerabilidade Y.
Configurar firewall corretamente para bloquear portas não utilizadas.
## 2. Metodologia
Ferramentas Utilizadas:

Nmap
Nikto
Dirb
Metasploit
sqlmap
linPEAS
Lynis
Procedimentos:

Varredura de rede com Nmap.
Enumeração de serviços com Nikto e Dirb.
Exploração com Metasploit e sqlmap.
Análise de segurança do sistema operacional com linPEAS e Lynis.
## 3. Detalhamento das Etapas
## 3.1. Reconhecimento
Objetivo: Coletar informações básicas sobre a VPS.

Ferramentas Utilizadas:

whois
nslookup
dig
Procedimentos:

whois example.com

nslookup example.com

dig example.com

Resultados:

Domain Name: FUZZYLAB.TECH
Registry Domain ID: D448732782-CNIC
Registrar WHOIS Server: whois.dotserve.website
Registrar URL: http://dotserve.website
Updated Date: 2024-05-01T10:28:02.0Z
Creation Date: 2024-04-21T19:47:27.0Z
Registry Expiry Date: 2025-04-21T23:59:59.0Z
Registrar: Dotserve Inc
Registrar IANA ID: 1913
Registrant State/Province: 3858
Registrant Country: BR
DNSSEC: unsigned

nslookup


Name:   fuzzylab.tech
Address: 89.116.225.21

dig

; <<>> DiG 9.19.19-1-Debian <<>> fuzzylab.tech
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 18829
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 4096
;; QUESTION SECTION:
;fuzzylab.tech.                 IN      A

;; ANSWER SECTION:
fuzzylab.tech.          28689   IN      A       89.116.225.21

;; Query time: 348 msec
;; SERVER: 192.168.50.1#53(192.168.50.1) (UDP)
;; WHEN: Wed Jun 05 14:23:37 -03 2024
;; MSG SIZE  rcvd: 58

## 3.2. Varredura de Rede
Objetivo: Identificar portas abertas e serviços em execução.

Ferramenta Utilizadas: nmap e netcat

Procedimentos:

nmap -sS -sV -T4 -A -v <IP_da_VPS>

Resultados:

Hostname: fuzzylab.tech (89.116.225.21)
Reverse DNS record: srv496937.hstgr.cloud 

Portas Abertas:

21/tcp (FTP)
22/tcp (SSH)
80/tcp (HTTP)
111/tcp (RPC)
443/tcp (HTTPS)

Serviços identificados:

HTTP na porta 80 e HTTPS na porta 443 são identificados como "tcpwrapped", o que pode indicar um firewall ou algum tipo de filtragem de pacotes em vigor.
O servidor HTTP é Caddy.
O certificado SSL é emitido pela Let's Encrypt para o domínio fuzzylab.tech, válido de 29 de abril de 2024 a 28 de julho de 2024.

Descobertas de segurança:

Falta de informações específicas sobre a versão do serviço para alguns serviços, o que pode indicar segurança através da obscuridade.
A dificuldade de previsão de sequência TCP é classificada como "Boa sorte!", Sugerindo que pode ser um desafio prever números de sequência.
A presença de serviços “tcpwrapped” e portas filtradas pode indicar medidas de segurança em vigor

Identificação do Sistema Operacional:
(Aviso: os resultados do OSScan podem não ser confiáveis ​​porque não conseguimos encontrar pelo menos 1 porta aberta e 1 porta fechada)
Oracle Virtualbox (92%), QEMU user mode network gateway (91%), Huawei Echolife HG520-series ADSL modem (87%), TP-LINK TD-W8951ND wireless ADSL modem (87%), ZyXEL Prestige 200 ISDN router (87%), ZyXEL ZyNOS 3.40 (87%), ZyXEL Prestige 2602R-D1A ADSL router (87%), ADSL router: Huawei MT800u-T; or ZyXEL Prestige 623ME-T1, 643, 662HW-61, 782, or 2602R-61 (87%), Telewell TW-EA501 ADSL modem (87%), ZyXEL P-2602HW-D1A wireless DSL modem (ZyNOS 3.40) (87%)

Distância da rede:

O host está a dois saltos do sistema de digitalização.

Informações de rastreamento de rota:

O traceroute indica a rota percorrida para chegar ao host, mostrando dois saltos, sendo o segundo salto o host alvo.

Outras observações:

Nenhuma correspondência exata do sistema operacional devido a condições de teste não ideais.
Os métodos HTTP e HTTPS são suportados (GET, HEAD, POST).

netcat:

Servidor ftp: vsftp 3.0.5




## 3.3. Enumeração
Objetivo: Detalhar as versões dos serviços e descobrir diretórios/arquivos ocultos.

Ferramentas Utilizadas:

Dirb
Searchsploit
Procedimentos:


dirb http://<IP_da_VPS>

searchsploit <service>

Resultados:

searchsploit:
FTP: secure 



Vulnerabilidades conhecidas e diretórios/arquivos ocultos identificados.
## 3.4. Exploração
Objetivo: Explorar vulnerabilidades para obter acesso ou comprometer o sistema.

Ferramentas Utilizadas:

Metasploit
sqlmap
Procedimentos:

msfconsole

use exploit/multi/handler

set PAYLOAD windows/meterpreter/reverse_tcp

set LHOST <IP_local>

set LPORT 4444

exploit

sqlmap -u "http://<IP_da_VPS>/pagina?parametro=valor"

Resultados:

Explorações bem-sucedidas, incluindo detalhes de acesso obtido.
## 3.5. Testes de Segurança do Sistema Operacional
Objetivo: Avaliar a segurança do sistema operacional.

Ferramentas Utilizadas:

linPEAS
Lynis
Procedimentos:

./linpeas.sh

lynis audit system

Resultados:

Vulnerabilidades e configurações incorretas identificadas.
## 3.6. Testes de Segurança de Banco de Dados
Objetivo: Avaliar a segurança dos bancos de dados.

Ferramentas Utilizadas:

sqlmap
nmap
Procedimentos:

nmap -sV --script=mysql-info <IP_da_VPS>

Resultados:

Vulnerabilidades em serviços de banco de dados identificadas.
## 4. Recomendações
Correções Sugeridas:

Implementar patch X para corrigir vulnerabilidade Y.
Configurar firewall para bloquear portas não utilizadas.
Boas Práticas:

Atualizar regularmente o software e os sistemas operacionais.
Monitorar logs de segurança para detectar atividades suspeitas.
## 5. Conclusão
Resumo do Teste:

O pentest revelou várias vulnerabilidades importantes que precisam ser abordadas para melhorar a segurança da VPS.
Agradecimentos:

Agradecemos a equipe de segurança e ao cliente pela colaboração durante o teste.
## 6. Anexos
Logs e Outputs das Ferramentas:

Anexar logs relevantes e outputs das ferramentas utilizadas durante o teste